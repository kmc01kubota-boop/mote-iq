import { FactorKey } from "@/types";

export const factorDetails: Record<FactorKey, { title: string; detail: string }> = {
  cleanliness: {
    title: "清潔感・生活感コントロール",
    detail: `清潔感とは「清潔であること」ではない。相手の無意識に「この人は安全だ」と感じさせる非言語シグナルの集合体だ。

爪が整っている、服にシワがない、靴が手入れされている。これらは単なる身だしなみではなく「自分の見え方を管理できる人間である」というメッセージを発している。特に35歳を超えると、加齢臭・歯の黄ばみ・肌のくすみなど、放置すると加速度的にマイナス印象を与える要素が増える。

重要なのは「やりすぎない」こと。美容に入れ込みすぎる男性は、女性から見ると「自分のことしか見ていない」と映る。理想は「自然に整っている」状態。手入れの痕跡を感じさせず、でも確実に清潔である。

具体的には、デート前日の5点チェック（爪/鼻毛/眉/歯/服のにおい）をルーティン化することから始めよう。靴は2足をローテーションし、月1回はプロのクリーニングに出す。香水はワンプッシュを手首の内側に。「何かいい匂いする？」と聞かれるくらいがベストだ。

部屋の清潔感も見逃せない。いつ「うち来る？」と言っても恥ずかしくない状態を365日キープする。これは自己管理能力そのものの証明になる。`,
  },
  conversation: {
    title: "会話の余白力",
    detail: `「話がうまい男」がモテるわけではない。「一緒にいて心地よい会話ができる男」がモテる。この差は、余白を作れるかどうかで決まる。

余白とは、相手が自由に話せるスペースのこと。質問攻めにするのではなく、自分の話をきっかけに相手が「私もそうなの」と自然に話し出せる空気を作る技術だ。

35歳以上の男性がやりがちなのが「アドバイス」と「自慢話」。相手が悩みを話したとき、解決策を提示するのは男性の習性だが、多くの場合「聞いてほしかっただけ」なのだ。「それ大変だったね」の一言が、30分の分析より効く。

LINEでも同じ原則が適用される。即レスは必ずしも好印象ではない。相手のテンポに合わせ、時には1〜2時間空けるのも「余白」だ。絵文字の量も相手に合わせる。文末の「笑」の頻度すら無意識に読まれている。

実践的なコツとしては、相手の話に対して「その後どうなったの？」「それってどういう気持ちだった？」と感情面を拾う質問をすること。事実の確認ではなく、感情への共感を軸にすると、会話は自然と深まっていく。

沈黙を恐れるな。二人の間に訪れる沈黙は、信頼のバロメーターだ。心地よい沈黙を共有できるようになれば、関係性は確実に深まっている。`,
  },
  money: {
    title: "金と余裕の見せ方",
    detail: `金の使い方は、その人の器量をそのまま映し出す。

重要なのは「いくら使ったか」ではなく「どう使ったか」。10万円の食事でも、高級店であることをアピールする男は器が小さく見える。3,000円の居酒屋でも「ここの焼き鳥は本当にうまいんだよ」とこだわりを語れる男は魅力的に映る。

会計のスマートさは必須スキルだ。テーブル会計ができる店を選ぶ、事前にカードを渡しておく、トイレに立ったタイミングで済ませる。相手に「払うか払わないか」の判断を迫らないことが紳士の作法。ただし、毎回全額出す必要はない。大事なのは「出す/出さない」を自分の基準で決められることだ。

お店のストックは最低5軒持っておきたい。初回向きのカジュアルな店、少し特別な日の店、バー、ランチで使える店、テイクアウトが美味しい店。シーンに応じて自然に提案できることが「余裕」の正体だ。

プレゼントは金額ではなく「相手を見ているか」がすべて。会話の中でポロッと出た「これ気になる」を覚えておき、後日さりげなく渡す。これが最もコスパの高い「金の使い方」だ。

年収をほのめかす言動は即アウト。車のグレード、時計のブランド、タワマンの階数。どれも自分から出す話題ではない。本当に余裕がある男は、余裕を見せない。`,
  },
  distance: {
    title: "距離感と安心感",
    detail: `距離感の制御は、恋愛における最高難度のスキルだ。

近づきすぎれば「重い」「怖い」と思われ、離れすぎれば「興味がない」と誤解される。このバランスを相手ごとにリアルタイムで調整し続ける必要がある。

最も重要な原則は「一歩引く勇気」。好意がある相手には近づきたくなるのが人間だが、大人の男は「引き」の美学を知っている。既読スルーされたら追撃しない。誘いが曖昧なら一旦引く。断られたら理由を聞かない。この「余裕」が、結果的に相手の興味を引く。

物理的な距離感も重要だ。初対面ではテーブルを挟んだ距離が安心。2回目以降、カウンター席に移行できればグッと親密度が上がる。相手の表情やボディランゲージを常に観察し、緊張しているなら距離を取り、リラックスしているなら少しだけ近づく。

SNSの距離感も見落としがち。相手の投稿すべてにいいねを押す、ストーリーに毎回リアクションする。これは好意のアピールではなく「監視」に映る。適度な無関心は、自分の人生が充実していることの証でもある。

安心感を与えるコツは「予測可能性」だ。約束を守る、時間に遅れない、言ったことを覚えている。小さな一貫性の積み重ねが、相手の中に「この人は信頼できる」という感覚を育てていく。`,
  },
  sexAppeal: {
    title: "大人の色気",
    detail: `色気とは「性的な魅力」のことではない。「生命力と余裕が溢れ出す佇まい」のことだ。

視線の使い方一つで印象は激変する。相手の目をじっと見続けるのは威圧感を与える。一方で目を合わせないのは自信のなさを露呈する。理想は「2〜3秒見つめて、ふっと外す」リズム。この「外し」の瞬間にこそ色気が宿る。

声のトーンも強力な武器だ。落ち着いた低めの声で、ゆっくり話す。特に「ありがとう」「お疲れさま」などの短いフレーズを丁寧に発すると、声の魅力は倍増する。早口は焦りの表れ。ゆとりある話し方は、内面の余裕を感じさせる。

食事の所作は意外と見られている。箸の持ち方、食べる速度、グラスの持ち方。「育ちの良さ」はここに出る。完璧である必要はないが、最低限のマナーは大人の嗜みだ。

ボディタッチは最もリスクの高い色気演出だ。間違えれば一発でアウト。安全なのは「手渡し」の瞬間の指先の触れ合い、エスコート時の背中への軽い誘導、別れ際の手を振る動作。相手の反応を0.5秒で読み取り、わずかでも引いている気配があれば即座に距離を取る。

別れ際の余韻は色気の集大成。「今日楽しかった、ありがとう」と言った後の2秒の間。相手の目を見て、少しだけ微笑んで、振り返らずに去る。この「名残」が、次に会いたいという気持ちを相手の中に生む。`,
  },
};

export const mineActions: { title: string; description: string }[] = [
  {
    title: "食事中にスマホをテーブルに置く",
    description:
      "画面を上にしてスマホを置くのは「あなたより優先するものがある」という無言のメッセージ。食事中はカバンの中、もしくは画面を下にしてポケットへ。通知音もオフにすること。これだけで「大切にされている」という印象が段違いに変わる。",
  },
  {
    title: "「俺は〇〇だから」と自分語りの前置きを多用する",
    description:
      "自分の価値観やスタンスを語ること自体は悪くない。問題は頻度とタイミング。相手の話の流れを遮って自分語りに入ると「この人は自分にしか興味がない」と判断される。自分の話は、相手に聞かれたときに簡潔に。余白を残すほど、相手はあなたに興味を持つ。",
  },
  {
    title: "会った直後に次の約束を取り付けようとする",
    description:
      "楽しい時間の直後に「次いつ会える？」と聞くのは、一見積極的だが実は逆効果。余韻を楽しむ時間を相手から奪ってしまう。ベストは翌日に「昨日はありがとう。〇〇の話、もっと聞きたかったな」と一通送る程度。次の誘いは3日以降に、自然な流れで。",
  },
];

export const sevenDayPlan: { day: number; title: string; mission: string }[] = [
  {
    day: 1,
    title: "5点セルフチェックの習慣化",
    mission:
      "鏡の前で爪・鼻毛・眉・歯・服のにおいを確認。スマホのリマインダーに「毎朝7:00 身だしなみチェック」をセットする。",
  },
  {
    day: 2,
    title: "聞く力トレーニング",
    mission:
      "今日一日、誰かとの会話で「相手の話を最後まで聞いてから話す」を徹底。話したくなったら3秒待ってから口を開く。",
  },
  {
    day: 3,
    title: "お店ストック作り",
    mission:
      "行きたいエリアで「デート向きの店」を3軒リストアップ。食べログやGoogleマップで口コミを確認し、1軒は今週中に下見に行く予定を入れる。",
  },
  {
    day: 4,
    title: "LINE返信テンポの見直し",
    mission:
      "今日のLINEで「即レスしない」を実践。相手のメッセージから30分〜1時間空けて返信する。焦りを手放す練習。",
  },
  {
    day: 5,
    title: "所作の意識化",
    mission:
      "食事の際、箸の持ち方・噛む速度・グラスの扱いを意識する。食べ終わった食器をきれいに揃える癖をつける。",
  },
  {
    day: 6,
    title: "視線と声のコントロール",
    mission:
      "会話中「2秒見つめて、ふっと外す」を意識する。声のトーンを半音下げ、スピードを普段の8割に落として話してみる。",
  },
  {
    day: 7,
    title: "総仕上げ：模擬デートプラン",
    mission:
      "架空のデートプランを1つ組む。店選び→服装→会話のネタ3つ→会計方法→別れ際のセリフまでシミュレーション。紙に書き出して、7日間の学びを統合する。",
  },
];

export const lineTemplates: { label: string; scene: string; template: string; point: string }[] = [
  {
    label: "初回の誘い",
    scene: "マッチング後、初めて会う約束を取り付ける",
    template:
      "こないだ話してた〇〇、気になって調べたら△△ってお店が良さそうだった。もしよかったら今度行ってみない？",
    point:
      "相手との会話の延長線上で誘うのがポイント。唐突な「ご飯行こう」より、共通の話題を起点にすると自然さが増す。",
  },
  {
    label: "日程調整",
    scene: "具体的な日時を決める",
    template:
      "来週だと木曜か土曜が空いてるんだけど、どっちか都合いい日ある？ なければ再来週でも全然！",
    point:
      "選択肢を2つ出しつつ「急がない」ことを示す。相手にプレッシャーを与えない余裕が好印象。",
  },
  {
    label: "デート後のお礼",
    scene: "デート当日の夜〜翌日",
    template: "今日はありがとう！〇〇の話すごく面白かった。帰り道気をつけてね。",
    point:
      "シンプルに感謝＋具体的な話題への言及＋相手への気遣い。長文は避け、余韻を残す。",
  },
  {
    label: "自然なフェード対応",
    scene: "相手の反応が薄くなったとき",
    template: "最近忙しそうだね。落ち着いたらまた連絡してよ。〇〇の続き聞きたいから。",
    point:
      "追いかけず、でも扉は開けておく。「忙しそう」は相手を責めず、「連絡してよ」は主導権を相手に渡すフレーズ。",
  },
];

export function getGradeComment(grade: string): string {
  switch (grade) {
    case "S":
      return "あなたのモテIQは極めて高い。すでに「自然にモテる男」の領域にいる。ここからは磨きをかけるというより、自分のスタイルを楽しむフェーズだ。";
    case "A":
      return "かなりの高水準。基本はできている。あとは「意識してやっていること」を「無意識の所作」に変えていくだけだ。伸びしろは十分ある。";
    case "B":
      return "平均以上だが、まだ「頭で考えて動いている」段階。いくつかの弱点を潰せば、A〜Sランクは射程圏内。改善レポートを参考に、一つずつ取り組もう。";
    case "C":
      return "課題は見えている。だが悲観する必要はない。モテIQは先天的なものではなく、知識と習慣で確実に上がる。まずは最も低い因子から手をつけよう。";
    case "D":
      return "率直に言おう、伸びしろしかない。これは「何もできていない」のではなく「何をすればいいか知らなかった」だけだ。ここから先は上がるしかない。レポートを読み込んで、一つずつ実践していこう。";
    default:
      return "";
  }
}

export function getFactorComment(factor: FactorKey, score: number): string {
  const level = score >= 75 ? "high" : score >= 45 ? "mid" : "low";
  const comments: Record<FactorKey, Record<string, string>> = {
    cleanliness: {
      high: "清潔感は十分。自然体で好印象を与えられている。",
      mid: "基本はできているが、細部にムラがある。ルーティン化が鍵。",
      low: "ここが最大の改善ポイント。まず毎日の5点チェックから。",
    },
    conversation: {
      high: "会話力は武器になっている。相手を心地よくさせる力がある。",
      mid: "悪くないが「聞く」と「話す」のバランスに改善余地あり。",
      low: "自分の話が多い傾向。まず「3秒ルール」で聞く力を鍛えよう。",
    },
    money: {
      high: "お金の使い方にセンスがある。余裕のある印象を自然に出せている。",
      mid: "悪くないが、時々「見せ方」でもったいないことをしている。",
      low: "金額ではなく「使い方」を変えるだけで印象は激変する。",
    },
    distance: {
      high: "距離感の制御が上手い。相手に安心感を与えられる強み。",
      mid: "基本的な距離感は保てるが、熱が入ると近づきすぎる傾向。",
      low: "距離を詰めすぎている可能性大。「一歩引く」を意識しよう。",
    },
    sexAppeal: {
      high: "所作や佇まいに色気がある。大人の魅力が自然と出ている。",
      mid: "ポテンシャルはあるが、意識的に磨けばもっと光る。",
      low: "色気は後天的に身につく。視線・声・所作の3つから始めよう。",
    },
  };
  return comments[factor][level];
}
